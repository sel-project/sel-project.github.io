<html><head>
        <!-- Generated by Ddoc from sel/util/node.d -->
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>sel.util.node</title>
        </head><body>
        <h1>sel.util.node</h1>
<br><br>
<dl><dt><big><a name="Node"></a>class <u>Node</u>;
</big></dt>
<dd>A node connected to the hub where players can be transferred to.<br><br>

<dl><dt><big><a name="Node.hubId"></a>immutable uint <u>hubId</u>;
</big></dt>
<dd>Id of the node, given by the hub.<br><br>

</dd>
<dt><big><a name="Node.name"></a>const string <u>name</u>;
</big></dt>
<dd>Name of the node. It can only be one node with the same <u>name</u>
 online at the same time.<br><br>

</dd>
<dt><big><a name="Node.main"></a>immutable bool <u>main</u>;
</big></dt>
<dd>Indicates whether the can receive player when they first
 connect or only when they are transferred.<br><br>

</dd>
<dt><big><a name="Node.acceptedGames"></a>uint[][ubyte] <u>acceptedGames</u>;
</big></dt>
<dd>Indicates which games and which protocols the node does accept.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> pocket = PE <font color=blue>in</font> node.<u>acceptedGames</u>;
<font color=blue>if</font>(pocket &amp;&amp; (*pocket).canFind(100)) {
   log(node.name, <font color=red>" supports MCPE 1.0"</font>);
}
</pre>
<br><br>

</dd>
<dt><big><a name="Node.online"></a>inout @property @safe bool <u>online</u>();
</big></dt>
<dd>Indicates whether or not the node is still connected to
 the hub.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> node = server.nodeWithName(<font color=red>"node"</font>);
<font color=blue>assert</font>(node.<u>online</u>);
</pre>
<br><br>

</dd>
<dt><big><a name="Node.accepts"></a>inout @safe bool <u>accepts</u>(Player <i>player</i>);
</big></dt>
<dd>Indicates whether the node can accept the given <i>player</i>.
 If a <i>player</i> is transferred to a node that cannot accept it
 it is kicked with the "End of Stream" message by the hub.<br><br>

</dd>
<dt><big><a name="Node.transfer"></a>void <u>transfer</u>(Player <i>player</i>);
</big></dt>
<dd>Transfers a <i>player</i> to the node.
 This methos does the same as <i>player</i>.<u>transfer</u>(Node).<br><br>

</dd>
<dt><big><a name="Node.sendMessage"></a>void <u>sendMessage</u>(ubyte[] <i>payload</i>);
<br>void <u>sendMessage</u>(string <i>message</i>);
</big></dt>
<dd>Sends a <i>message</i> to the node.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=green>// if the other node uses the same JSON protocol
</font>node.<u>sendMessage</u>(<font color=red>`{"reply_with":12}`</font>);
server += (NodeMessageEvent event) {
   <font color=blue>if</font>(node == event.node) {
      <font color=blue>assert</font>(parseJSON(<font color=blue>cast</font>(string)event.<i>payload</i>)[<font color=red>"reply"</font>].integer == 12);
   }
}
</pre>
<br><br>

</dd>
</dl>
</dd>
</dl>

        <hr><small>Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a>. </small>
        </body></html>
