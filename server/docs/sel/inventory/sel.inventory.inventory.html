<html><head>
        <!-- Generated by Ddoc from sel/inventory/inventory.d -->
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>sel.inventory.inventory</title>
        </head><body>
        <h1>sel.inventory.inventory</h1>
Various inventories and related utilities.
<br><br>
<b>License:</b><br>
<a href="http://www.gnu.org/licenses/lgpl-3.0.html" target="_blank">GNU General Lesser Public License v3</a><br><br>

$(DDOC_MODULE_MEMBERS <dt><big><a name="InventoryRangeError"></a>class <u>InventoryRangeError</u>: <u>object.Error</u>;
</big></dt>
<dd>Exception thrown by the inventory when a range error happens,
 instead of the classic RangeError that gives a bad description
 of the problem.<br><br>

</dd>
<dt><big><a name="Inventory"></a>class <u>Inventory</u>;
</big></dt>
<dd>Basic inventory class with adding/removing/assigning/filling functions.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> <u>Inventory</u>(10);

<font color=green>// assign
</font>inventory[4] = Slot(<font color=blue>new</font> Items.Apple(), 12);
inventory[5] = <font color=blue>new</font> Items.Apple();

<font color=green>// automatically add in the first empty slot
</font>inventory.add(<font color=blue>new</font> Items.Beetroot());

<font color=green>// fill
</font>inventory = <font color=blue>new</font> Items.Beetroot();

<font color=green>// an inventory can also be iterated
</font><font color=blue>foreach</font>(<font color=blue>ref</font> Slot slot ; inventory) {
   d(slot);
}
</pre>
<br><br>

<dl><dt><big><a name="Inventory.this"></a>@safe this(size_t <i>size</i>);
</big></dt>
<dd>Creates an inventory with the given number of slots.
 The number of slots must be higher than 0 and shorter than 2^16.
<br><br>
<b>Params:</b><br>
<table><tr><td>size_t <i>size</i></td>
<td>the <i>size</i> of the inventory</td></tr>
</table><br>

</dd>
<dt><big><a name="Inventory.this.2"></a>@safe this(Slot[] <i>slots</i>...);
<br>@safe this(Inventory <i>inventory</i>);
</big></dt>
<dd>Constructs an <i>inventory</i> giving an array of <i>slots</i>.
 The length of the <i>inventory</i> will be the same as the given array.
<br><br>
<b>Params:</b><br>
<table><tr><td>Slot[] <i>slots</i></td>
<td>one or more <i>slots</i></td></tr>
</table><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> a = <font color=blue>new</font> Inventory(Slot(<font color=blue>null</font>));
<font color=blue>auto</font> b = <font color=blue>new</font> Inventory(Slot(<font color=blue>null</font>), Slot(<font color=blue>null</font>));
<font color=blue>auto</font> c = <font color=blue>new</font> Inventory([Slot(<font color=blue>null</font>), Slot(<font color=blue>null</font>)]);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opIndex"></a>@safe Slot[] <u>opIndex</u>();
<br><a name="Inventory.opCast"></a>@safe T <u>opCast</u>(T)() if (is(T == Slot[]));
</big></dt>
<dd>Gets every slots of the inventory (0..$).
 This property should only be used when the full inventory is needed,
 otherwise <u>opIndex</u> should be used for getting a slot in a specific index
 or in a specific range.
<br><br>
<b>Returns:</b><br>
an array with every slot in the inventory
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(2);
<font color=blue>assert</font>(inventory[] == [Slot(<font color=blue>null</font>), Slot(<font color=blue>null</font>)]);
<font color=blue>assert</font>(<font color=blue>cast</font>(Slot[])inventory == inventory[]);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opIndex.2"></a>@safe Slot <u>opIndex</u>(size_t <i>index</i>);
</big></dt>
<dd>Gets the slot at the given <i>index</i>.
<br><br>
<b>Params:</b><br>
<table><tr><td>size_t <i>index</i></td>
<td>a number in range 0..$</td></tr>
</table><br>
<b>Returns:</b><br>
the slot at the given <i>index</i>
<br><br>
<b>Throws:</b><br>
RangeError if an invalid <i>index</i> is given
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>if</font>(!inventory[1].empty &amp;&amp; inventory[1].item == Items.APPLE) { ... }
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opIndex.3"></a>@safe InventoryRange <u>opIndex</u>(Slice <i>slice</i>);
</big></dt>
<dd>Gets the slots in a specific range.
<br><br>
<b>Params:</b><br>
<table><tr><td>Slice <i>slice</i></td>
<td>the <i>slice</i> obtained with opSlice, e.g. inventory[0..10]</td></tr>
</table><br>
<b>Returns:</b><br>
an <a href="#InventoryRange">InventoryRange</a> with the slots at the given indexes
<br><br>
<b>Throws:</b><br>
RangeError if an invalid range or index is given
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(4);
inventory[2] = Slot(<font color=blue>new</font> Items.Apple(), 1);
<font color=blue>assert</font>(inventory[2..$] == [Slot(<font color=blue>new</font> Items.Apple(), 1), Slot(<font color=blue>null</font>)]);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opIndexAssign"></a>@safe void <u>opIndexAssign</u>(Slot <i>slot</i>, size_t <i>index</i>);
</big></dt>
<dd>Sets the <i>slot</i> at the given <i>index</i>.
<br><br>
<b>Params:</b><br>
<table><tr><td>Slot <i>slot</i></td>
<td>the item to set</td></tr>
<tr><td>size_t <i>index</i></td>
<td>a number in range 0..$</td></tr>
</table><br>
<b>Throws:</b><br>
RangeError if an invalid <i>index</i> is given
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>if</font>(inventory[1].empty || inventory[1].item != Items.BEETROOT) {
   inventory[1] = Slot(<font color=blue>new</font> Items.Beetroot());
}
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opIndexAssign.2"></a>@safe void <u>opIndexAssign</u>(Slot <i>slot</i>, Slice <i>slice</i>);
<br>@safe void <u>opIndexAssign</u>(Slot[] <i>slots</i>, Slice <i>slice</i>);
</big></dt>
<dd>Sets the <i>slots</i> in the given range.
<br><br>
<b>Params:</b><br>
<table><tr><td>Slot <i>slot</i></td>
<td>the <i>slot</i> to be set</td></tr>
<tr><td>Slice <i>slice</i></td>
<td>the range to set</td></tr>
</table><br>
<b>Throws:</b><br>
RangeError is an invalid range or index is given
<br><br>
<b>Example:</b><br>
<pre class="d_code">inventory[2..4] = Slot(<font color=blue>new</font> Items.Apple(), 32);
inventory[4..6] = another[10..12];
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.length"></a>pure nothrow @nogc @property @safe size_t <u>length</u>();
<br><a name="Inventory.opDollar"></a>pure nothrow @nogc @safe size_t <u>opDollar</u>(size_t pos)();
</big></dt>
<dd>Gets the size of the inventory.<br><br>

</dd>
<dt><big><a name="Inventory.opBinary"></a>@safe Inventory <u>opBinary</u>(string op)(Slot[] <i>slots</i>) if (op == "~");
<br>@safe Inventory <u>opBinary</u>(string op)(Inventory <i>inventory</i>) if (op == "~");
<br>@safe Inventory <u>opBinary</u>(string op)(Slot <i>slot</i>) if (op == "~");
<br><a name="Inventory.opBinaryRight"></a>@safe Inventory <u>opBinaryRight</u>(string op)(Slot[] <i>slots</i>) if (op == "~");
<br>@safe Inventory <u>opBinaryRight</u>(string op)(Slot <i>slot</i>) if (op == "~");
</big></dt>
<dd>Concatenates two inventories (or an <i>inventory</i> and an array of <i>slots</i>)
 and returns a new one.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> <i>inventory</i> = <font color=blue>new</font> Inventory(4);
<font color=blue>auto</font> ni = <i>inventory</i> ~ [Slot(<font color=blue>null</font>), Slot(<font color=blue>null</font>)] ~ <i>inventory</i>;
<font color=blue>assert</font>(<i>inventory</i>.length == 4);
<font color=blue>assert</font>(ni.length == 10);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opOpAssign"></a>@trusted Slot <u>opOpAssign</u>(string op)(Slot <i>slot</i>) if (op == "+");
<br>@safe Slot[] <u>opOpAssign</u>(string op)(Slot[] <i>slots</i>) if (op == "+");
</big></dt>
<dd>Adds <i>slot</i>(s) to the inventory (if there's enough space).
 Note that this function will only mutate the the inventory's
 <i>slots</i>' content without mutating its length.
<br><br>
<b>Params:</b><br>
<table><tr><td>Slot <i>slot</i></td>
<td><i>slot</i>(s) that will be added to the inventory</td></tr>
</table><br>
<b>Returns:</b><br>
the <i>slot</i>(s) that couldn't be added to the inventory
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(10);
inventory += Slot(<font color=blue>new</font> Items.Apple(), 32);
<font color=blue>assert</font>(inventory[0].item == Items.APPLE);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opOpAssign.2"></a>@trusted uint <u>opOpAssign</u>(string op, T)(T <i>item</i>) if (op == "-" &amp;&amp; (is(T == Slot) || is(T : Item) || is(T == string) || is(T == string[]) || is(T == immutable(string)[])));
<br>@safe uint <u>opOpAssign</u>(string op, T)(T[] <i>items</i>) if (op == "-" &amp;&amp; (is(T == Slot) || is(T == Item)));
</big></dt>
<dd>Removes slot(s) from the inventory.
 Parameter types:
 		string = tries to remove <i>items</i> with the same name
 		string[] = tries to remove <i>items</i> with one of the names in the array
 		Item = tries to remove <i>items</i> with the same name and properties
 		Slot = tries to remove <i>items</i> with the same name, properties and count
<br><br>
<b>Returns:</b><br>
the number of slots that has been set to empty
<br><br>
<b>Example:</b><br>
<pre class="d_code">inventory -= Items.FOOD;          <font color=green>// remove food
</font>inventory -= <font color=blue>new</font> Items.Apple();   <font color=green>// remove apples
</font></pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opBinary.2"></a>@trusted Slot* <u>opBinary</u>(string op, T)(T <i>item</i>) if (op == "in" &amp;&amp; (is(T == Slot) || is(T : Item) || is(T == string) || is(T == string[]) || is(T == immutable(string)[])));
</big></dt>
<dd>Matches the first occurence and returns the pointer to the slot.
 Paramenter types:
 		string = checks for an <i>item</i> with the same name
 		string[] = checks for an <i>item</i> with one of the names in the array
 		Item = checks for an <i>item</i> with the same name and properties (custom name, enchantments, ...)
 		Slot = checks for the <i>item</i> (see above) and the count of the <i>item</i>
<br><br>
<b>Returns:</b><br>
a pointer to first occurence found, or <b>null</b> if no occurences were found
<br><br>
<b>Standards:</b><br>
Use "Slot(<b>null</b>) in inventory" to check for an empty slot.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=green>// check for an empty slot
</font><font color=blue>if</font>(Slot(<font color=blue>null</font>) <font color=blue>in</font> inventory) {
  d(<font color=red>"there's space!"</font>);
}
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.group"></a>@trusted void <u>group</u>(size_t <i>index</i>);
</big></dt>
<dd>Groups an item type into the given slot, if possible.
<br><br>
<b>Params:</b><br>
<table><tr><td>size_t <i>index</i></td>
<td>the <i>index</i> of the slot where the items should be grouped</td></tr>
</table><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(10);
inventory[0..3] = Slot(<font color=blue>new</font> Items.Cookie(), 30);
inventory.<u>group</u>(0);
<font color=blue>assert</font>(inventory[0].count == 64);
<font color=blue>assert</font>(inventory[1].count == 0);
<font color=blue>assert</font>(inventory[2].count == 26);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opOpAssign.3"></a>@safe void <u>opOpAssign</u>(string op, T)(T <i>number</i>) if (is(T : int) &amp;&amp; (op == "+" || op == "-" || op == "*" || op == "/"));
</big></dt>
<dd>Performs a basic math operation on every slot's count in
 the inventory, if not empty.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(<font color=blue>new</font> Items.Apple(), Slot(<font color=blue>new</font> Items.Cookie(), 12));
inventory += 40;
<font color=blue>assert</font>(inventory == [Slot(<font color=blue>new</font> Items.Apple(), 64), Slot(<font color=blue>new</font> Items.Cookie(), 52)]);
inventory -= 52;
<font color=blue>assert</font>(inventory == [Slot(<font color=blue>new</font> Items.Apple(), 12), Slot(<font color=blue>null</font>)]);
inventory *= 4;
<font color=blue>assert</font>(inventory == [Slot(<font color=blue>new</font> Items.Apple(), 48), Slot(<font color=blue>null</font>)]);
inventory /= 24;
<font color=blue>assert</font>(inventory == [Slot(<font color=blue>new</font> Items.Apple(), 2), Slot(<font color=blue>null</font>)]);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.empty"></a>@property @safe bool <u>empty</u>();
</big></dt>
<dd>Checks whether or not the inventory is <u>empty</u>.
<br><br>
<b>Returns:</b><br>
<b>true</b> if the inventory is <u>empty</u>, <b>false</b> otherwise
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>if</font>(inventory.<u>empty</u>) {
   inventory[5] = <font color=blue>new</font> Items.Beetroot();
   <font color=blue>assert</font>(!inventory.<u>empty</u>);
}
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.empty.2"></a>@property @safe bool <u>empty</u>(bool <u>empty</u>);
</big></dt>
<dd>Removes every item from inventory if <u>empty</u> is <b>true</b>.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>if</font>(!inventory.<u>empty</u>) {
   inventory.<u>empty</u> = <font color=blue>true</font>;
}
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.opEquals"></a>bool <u>opEquals</u>(Slot[] <i>slots</i>);
<br>bool <u>opEquals</u>(Object <i>object</i>);
</big></dt>
<dd>Compares the inventory with an array of <i>slots</i>.
<br><br>
<b>Returns:</b><br>
<b>true</b> if the length and the item at every index is equals to the array's ones
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(Slot(<font color=blue>null</font>), Slot(<font color=blue>new</font> Items.Apple()));
<font color=blue>assert</font>(inventory == [Slot(<font color=blue>null</font>), Slot(<font color=blue>new</font> Items.Apple())]);
<font color=blue>assert</font>(inventory != [Slot(<font color=blue>null</font>), Slot(<font color=blue>new</font> Items.Apple(), 12)]);
<font color=blue>assert</font>(inventory != [Slot(<font color=blue>null</font>), Slot(<font color=blue>new</font> Items.Apple(<font color=red>"{\"customName\":\"test\"}"</font>))]);
</pre>
<br><br>

</dd>
<dt><big><a name="Inventory.toString"></a>string <u>toString</u>();
</big></dt>
<dd>Returns a string with representing the inventory and its
 array of slots.<br><br>

</dd>
</dl>
</dd>
<dt><big><a name="InventoryRange"></a>class <u>InventoryRange</u>: <u>sel.inventory.inventory.Inventory</u>;
</big></dt>
<dd>A part of an inventory with all the methods of a normal inventory.
 It's given by default using by calling the Inventory's method opIndex
 with a valid range.
<br><br>
This kind of inventory can be used to perform operations only on
 a part of the full inventory.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inventory = <font color=blue>new</font> Inventory(100);
<font color=blue>auto</font> part = inventory[50..$];
part += <font color=blue>new</font> Items.Apple();
</pre>
<br><br>

</dd>
<dt><big><a name="InventoryGroup"></a>class <u>InventoryGroup</u>: <u>sel.inventory.inventory.Inventory</u>;
</big></dt>
<dd>Group of inventories that acts as one.
<br><br>
This class can be used to change the operation order in a normal
 inventory.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>auto</font> inv = <font color=blue>new</font> Inventory(4);
<font color=blue>auto</font> ig = <font color=blue>new</font> <u>InventoryGroup</u>(inv[2..$], inv[0..2]);
ig += <font color=blue>new</font> Items.Apple();
<font color=blue>assert</font>(inv == [Slot(<font color=blue>null</font>), Slot(<font color=blue>null</font>), Slot(<font color=blue>new</font> Items.Apple()), Slot(<font color=blue>null</font>)]);
</pre>
<br><br>

</dd>
<dt><big><a name="NotifiedInventory"></a>class <u>NotifiedInventory</u>: <u>sel.inventory.inventory.Inventory</u>;
</big></dt>
<dd>Special inventory that notifies the holder when a slot
 is updated.<br><br>

</dd>
<dt><big><a name="PlayerInventory"></a>class <u>PlayerInventory</u>: <u>sel.inventory.inventory.Inventory</u>;
</big></dt>
<dd>Inventory held by an entity that also contains slots
 for armour and item's holding.<br><br>

<dl><dt><big><a name="PlayerInventory.held"></a>@property @safe Slot <u>held</u>();
</big></dt>
<dd>Gets the slot the entity has in its hand.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>if</font>(player.inventory.<u>held</u> == Items.SWORD) {
   player.sendMessage(<font color=red>"Attack!"</font>);
}
</pre>
<br><br>

</dd>
<dt><big><a name="PlayerInventory.held.2"></a>@property @safe Slot <u>held</u>(Slot <i>item</i>);
</big></dt>
<dd>Sets the slot the entity has in its hand.
<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>if</font>(player.inventory.<u>held</u>.empty) {
   player.inventory.<u>held</u> = <font color=blue>new</font> Items.Apple();
   player.sendMessage(<font color=red>"Hey, hold this"</font>);
}
</pre>
<br><br>

</dd>
<dt><big><a name="PlayerInventory.opIndexAssign"></a>void <u>opIndexAssign</u>(item_t <i>item</i>, size_t <i>index</i>);
</big></dt>
<dd>Sets a slot using a string, creating the Item object from
 the holder's world's items.
<br><br>
See the superclass's <u>opIndexAssign</u> documentation for more
 informations about this function.
<br><br>
<b>Example:</b><br>
<pre class="d_code">player.inventory[1] = Items.APPLE;
<font color=blue>assert</font>(player.inventory[1] == Slot(<font color=blue>new</font> Items.Apple());
)
</pre>
<br><br>

</dd>
</dl>
</dd>

        <hr><small>Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a>. </small>
        </body></html>
